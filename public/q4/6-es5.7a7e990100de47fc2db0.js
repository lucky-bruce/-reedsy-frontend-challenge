function _classCallCheck(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,o,e){return o&&_defineProperties(t.prototype,o),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{bDat:function(t,o,e){"use strict";e.r(o),e.d(o,"BookDetailsModule",(function(){return w}));var n=e("ofXK"),c=e("3Pt+"),r=e("tyNb"),i=e("fXoL");function b(t,o){if(1&t&&(i.Zb(0,"div",20),i.Zb(1,"div",21),i.Jc(2),i.Yb(),i.Zb(3,"div",22),i.Jc(4),i.oc(5,"date"),i.Yb(),i.Zb(6,"div",22),i.Jc(7),i.Yb(),i.Yb()),2&t){var e=o.$implicit;i.Hb(2),i.Kc(e.content),i.Hb(2),i.Lc("commented ",i.pc(5,3,e.date,"MMM dd yyyy"),""),i.Hb(3),i.Kc(e.author||"Anonymous")}}function a(t,o){if(1&t&&(i.Zb(0,"div",18),i.Hc(1,b,8,6,"div",19),i.Yb()),2&t){var e=i.nc();i.Hb(1),i.sc("ngForOf",e.book.comments)}}var s,l,m,d,u=((s=function(){function t(o,e){_classCallCheck(this,t),this.route=o,this.fb=e,this.book=this.route.snapshot.data.book,this.commentForm=this.fb.group({comment:["",c.l.required]})}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"toggleVote",value:function(){}},{key:"addComment",value:function(t){t.preventDefault();var o=this.commentForm.value.comment;this.commentForm.reset();var e={date:new Date,content:o};this.book.comments.push(e)}}]),t}()).\u0275fac=function(t){return new(t||s)(i.Ub(r.a),i.Ub(c.b))},s.\u0275cmp=i.Ob({type:s,selectors:[["reedsy-book-details"]],decls:30,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-lg-6","col-md-8","col-sm-12","mx-auto","bg-white","p-4","book-details"],[1,"d-flex","flex-wrap","align-items-center"],[1,"text-primary","text-center","font-24","font-weight-bold"],[1,"d-flex","flex-grow-1","justify-content-end","align-items-center"],[1,"mr-3"],[1,"btn","btn-primary","btn-sm","text-white",3,"click"],[1,"font-italic"],[1,"text-center","my-4","d-flex","justify-content-center"],[1,"book-cover-wrapper","overflow-hidden"],[1,"w-100",3,"src","alt"],[1,"pt-30"],["class","comment-list",4,"ngIf"],[3,"formGroup","submit"],[1,"w-100"],["formControlName","comment","rows","4","placeholder","comment",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-small","text-white",3,"disabled"],[1,"comment-list"],["class","comment pb-4 font-12",4,"ngFor","ngForOf"],[1,"comment","pb-4","font-12"],[1,"content","font-italic"],[1,"text-right"]],template:function(t,o){1&t&&(i.Zb(0,"div",0),i.Zb(1,"div",1),i.Zb(2,"div",2),i.Zb(3,"div",3),i.Zb(4,"h1",4),i.Jc(5),i.Yb(),i.Zb(6,"div",5),i.Zb(7,"span",6),i.Jc(8),i.Yb(),i.Zb(9,"button",7),i.lc("click",(function(){return o.toggleVote()})),i.Jc(10),i.Yb(),i.Yb(),i.Yb(),i.Zb(11,"div",8),i.Jc(12),i.Yb(),i.Zb(13,"div",9),i.Zb(14,"div",10),i.Vb(15,"img",11),i.Yb(),i.Yb(),i.Zb(16,"h2"),i.Jc(17,"Synopsis"),i.Yb(),i.Zb(18,"p"),i.Jc(19),i.Yb(),i.Zb(20,"div"),i.Jc(21),i.Yb(),i.Zb(22,"h2",12),i.Jc(23,"Comments"),i.Yb(),i.Hc(24,a,2,1,"div",13),i.Zb(25,"form",14),i.lc("submit",(function(t){return o.addComment(t)})),i.Zb(26,"label",15),i.Vb(27,"textarea",16),i.Yb(),i.Zb(28,"button",17),i.Jc(29,"Add Comment"),i.Yb(),i.Yb(),i.Yb(),i.Yb(),i.Yb()),2&t&&(i.Hb(5),i.Kc(o.book.title),i.Hb(3),i.Lc("Upvoted ",o.book.upvotes," times"),i.Hb(1),i.Mb("btn-outline-primary",o.book.upvoted)("bg-white",o.book.upvoted)("text-primary",o.book.upvoted),i.Hb(1),i.Kc(o.book.upvoted?"Upvoted":"Upvote"),i.Hb(2),i.Kc(o.book.author),i.Hb(3),i.sc("src",o.book.cover,i.Cc)("alt",o.book.title),i.Hb(4),i.Kc(o.book.synopsis),i.Hb(2),i.Lc("Rating: ",o.book.rating,"/10"),i.Hb(3),i.sc("ngIf",o.book.comments&&o.book.comments.length),i.Hb(1),i.sc("formGroup",o.commentForm),i.Hb(3),i.sc("disabled",!o.commentForm.valid))},directives:[n.l,c.n,c.i,c.d,c.a,c.h,c.c,n.k],pipes:[n.d],styles:[".book-cover-wrapper[_ngcontent-%COMP%]{border-radius:12px;width:70%}.book-details[_ngcontent-%COMP%]{box-shadow:0 0 10px #a0a0a0}"]}),s),f=e("z6cu"),p=e("JIr8"),v=e("5eHb"),h=e("Qo73"),k=[{path:"",component:u,resolve:{book:(l=function(){function t(o,e){_classCallCheck(this,t),this.toastr=o,this.booksService=e}return _createClass(t,[{key:"resolve",value:function(t,o){var e=this;return this.booksService.bookDetail(t.params.slug).pipe(Object(p.a)((function(t){return e.toastr.error("Error","Failed to load book detail."),Object(f.a)(t)})))}}]),t}(),l.\u0275fac=function(t){return new(t||l)(i.hc(v.b),i.hc(h.a))},l.\u0275prov=i.Qb({token:l,factory:l.\u0275fac,providedIn:"root"}),l)}}],y=((d=function t(){_classCallCheck(this,t)}).\u0275mod=i.Sb({type:d}),d.\u0275inj=i.Rb({factory:function(t){return new(t||d)},imports:[[r.d.forChild(k)],r.d]}),d),w=((m=function t(){_classCallCheck(this,t)}).\u0275mod=i.Sb({type:m}),m.\u0275inj=i.Rb({factory:function(t){return new(t||m)},imports:[[n.b,c.k,y]]}),m)}}]);